<mp-toptips msg="{{ error }}" type="error" show="{{ error }}" delay="{{ 3000 }}"></mp-toptips>
<mp-toptips msg="{{ success }}" type="success" show="{{ success }}" delay="{{ 3000 }}"></mp-toptips>
<view class="page" data-weui-theme="{{ theme }}">
  <view class="weui-form">
    <view class="weui-form__text-area">
      <h2 wx:if="{{ _openid }}" class="weui-form__title">修改信息</h2>
      <h2 wx:else class="weui-form__title">绑定信息</h2>
    </view>
    <view style="margin-top: 16px;  padding: 0 16px;">
      <view class="weui-cells__title">微信信息</view>
      <view class="weui-panel weui-panel_access">
        <view wx:if="{{ _openid }}" class="weui-cell weui-cell_active">
          <view class="weui-cell__hd" style="position: relative; margin-right: 10px;">
            <image src="{{ avatarUrl }}" style="width: 50px; height: 50px; display: block;"></image>
          </view>
          <view class="weui-cell__bd">
            <view>{{ nickName }}</view>
            <view style="font-size: 13px; color: #888;">获取成功</view>
          </view>
        </view>
        <view wx:else class="weui-panel__ft">
          <view class="weui-cell">
            <button
              open-type="getUserInfo"
              lang="zh_CN"
              bindgetuserinfo="getUserInfo"
              class="weui-cell__bd weui-btn weui-btn_primary"
            >
              点击授权
            </button>
          </view>
        </view>
      </view>
    </view>
    <view class="weui-form__control-area">
      <view class="weui-cells__group weui-cells__group_form">
        <view class="weui-cells__title">学生信息</view>
        <view class="weui-cells weui-cells_form">
          <view class="weui-cell weui-cell_active">
            <view class="weui-cell__hd">
              <label class="weui-label">学号</label>
            </view>
            <view class="weui-cell__bd">
              <!-- 不知道为什么输入时会有警告，不过不影响使用 -->
              <input
                class="weui-input"
                model:value="{{ studentID }}"
                placeholder="请填写八位学号"
                type="number"
                placeholder-class="weui-input__placeholder"
              />
            </view>
          </view>
          <view class="weui-cell weui-cell_active">
            <view class="weui-cell__hd">
              <label class="weui-label">姓名</label>
            </view>
            <view class="weui-cell__bd">
              <input
                model:value="{{ studentName }}"
                class="weui-input"
                placeholder="请填写姓名"
                placeholder-class="weui-input__placeholder"
              />
            </view>
          </view>
          <view class="weui-cell weui-cell_active">
            <view class="weui-cell__hd">
              <label class="weui-label">邮箱</label>
            </view>
            <view class="weui-cell__bd">
              <input
                model:value="{{ email }}"
                class="weui-input"
                placeholder="请填写邮箱"
                placeholder-class="weui-input__placeholder"
              />
            </view>
          </view>
        </view>
      </view>
    </view>
    <view class="weui-form__tips-area">
      <view class="weui-form__tips">
        请确认填写无误
      </view>
    </view>
    <view class="weui-form__opr-area">
      <view type="primary" class="weui-btn weui-btn_primary" bind:tap="submit">确定</view>
    </view>
    <!-- <view class="weui-form__tips-area">
      <view class="weui-form__tips">
        表单页提示，居中对齐
      </view>
    </view>     -->
  </view>
</view>
